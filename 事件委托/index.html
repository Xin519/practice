<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<input type="button" name="" id="btn" value="添加" />
		<br />
		<ul id="ul1">
		    <li>item 1</li>
		    <li>item 2</li>
		    <li>item 3</li>
		    <li>item 4</li>
		</ul>
		<script type="text/javascript">
			const oBtn = document.getElementById("btn");
			const oUl = document.getElementById("ul1");
			let num = 4;
			
			//事件委托，添加的子元素也有事件
			oUl.onclick = function (ev) {
			    ev = ev || window.event;
			    const target = ev.target || ev.srcElement;
			    if (target.nodeName.toLowerCase() == 'li') {
			        console.log('the content is: ', target.innerHTML);
			    }
			
			};
			
			//添加新节点
			oBtn.onclick = function () {
			    num++;
			    const oLi = document.createElement('li');
			    oLi.innerHTML = `item ${num}`;
			    oUl.appendChild(oLi);
			};
			
			// 事件代理，俗地来讲，就是把一个元素响应事件（click、keydown......）的函数委托到另一个元素
			
			// 前面讲到，事件流的都会经过三个阶段：捕获阶段 -> 目标阶段 -> 冒泡阶段，而事件委托就是在冒泡阶段完成
			
			// 事件委托，会把一个或者一组元素的事件委托到它的父层或者更外层元素上，真正绑定事件的是外层元素，而不是目标元素
			
			// 当事件响应到目标元素上时，会通过事件冒泡机制从而触发它的外层元素的绑定事件上，然后在外层元素上去执行函数
			
		</script>
	</body>
</html>
